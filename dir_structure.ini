profiletensor/
├── pyproject.toml
├── README.md
├── LICENSE
├── CHANGELOG.md
├── .gitignore
├── .pre-commit-config.yaml
│
├── src/
│   └── profiletensor/
│       ├── __init__.py
│       ├── py.typed
│       │
│       ├── core/
│       │   ├── __init__.py
│       │   ├── spectrum.py
│       │   ├── scan_metadata.py
│       │   └── run.py                  # MSRun: collection of spectra + run metadata
│       │
│       ├── io/
│       │   ├── __init__.py
│       │   ├── base.py                 # Abstract SpectrumReader interface
│       │   ├── registry.py             # Reader registry + auto-detection
│       │   ├── readers/
│       │   │   ├── __init__.py
│       │   │   ├── mzml.py             # mzML/mzXML (pyteomics) - Tier 1
│       │   │   ├── thermo.py           # Thermo .raw - Tier 2
│       │   │   ├── bruker.py           # Bruker .d (timsTOF) - Tier 2
│       │   │   └── proteowizard.py     # ProteoWizard bridge - Tier 3
│       │   ├── writers/
│       │   │   ├── __init__.py
│       │   │   ├── hdf5.py             # HDF5 output
│       │   │   ├── safetensors.py      # Hugging Face format
│       │   │   ├── pytorch.py          # .pt files
│       │   │   └── zarr.py             # Zarr (cloud-friendly)
│       │   └── vendor_utils.py         # Vendor detection, path handling
│       │
│       ├── formats/                    # Tensor format implementations
│       │   ├── __init__.py
│       │   ├── base.py
│       │   ├── bounded_dense.py
│       │   ├── segmented.py
│       │   ├── adaptive.py
│       │   ├── sparse.py
│       │   └── coordinate.py
│       │
│       ├── processing/
│       │   ├── __init__.py
│       │   ├── binning.py
│       │   ├── segmentation.py
│       │   ├── normalization.py
│       │   └── filtering.py
│       │
│       ├── datasets/
│       │   ├── __init__.py
│       │   ├── base.py
│       │   ├── lazy_dataset.py
│       │   ├── memory_dataset.py
│       │   └── collate.py
│       │
│       ├── pipeline/
│       │   ├── __init__.py
│       │   ├── converter.py
│       │   ├── parallel.py
│       │   └── checkpoint.py
│       │
│       ├── analysis/
│       │   ├── __init__.py
│       │   ├── statistics.py
│       │   ├── gap_analysis.py
│       │   └── information_loss.py
│       │
│       ├── config/
│       │   ├── __init__.py
│       │   ├── schema.py
│       │   └── defaults.py
│       │
│       ├── cli/
│       │   ├── __init__.py
│       │   ├── main.py
│       │   ├── convert.py
│       │   ├── analyze.py
│       │   └── setup.py                # Commands for setting up vendor tools
│       │
│       └── utils/
│           ├── __init__.py
│           ├── logging.py
│           ├── progress.py
│           └── external.py             # External tool detection/invocation
│
├── tests/
│   ├── conftest.py
│   ├── data/                           # Small test files (mzML only in repo)
│   │   ├── test_profile.mzML
│   │   └── .gitkeep
│   ├── unit/
│   │   ├── test_spectrum.py
│   │   ├── test_binning.py
│   │   ├── test_readers.py
│   │   └── ...
│   └── integration/
│       ├── test_conversion_pipeline.py
│       ├── test_vendor_readers.py      # Skipped if vendor files not present
│       └── test_roundtrip.py
│
├── docs/
│   ├── conf.py
│   ├── index.rst
│   ├── installation.rst
│   ├── vendor_setup.rst                # Instructions for each vendor
│   ├── quickstart.rst
│   ├── formats/
│   └── api/
│
├── examples/
│   ├── basic_conversion.py
│   ├── multi_vendor_batch.py
│   └── training_example.py
│
├── benchmarks/
│   └── ...
│
└── configs/
    └── ...